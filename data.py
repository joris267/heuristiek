import operator

X_SIZE = 17+1
Y_SIZE = 12+1
Z_SIZE = 8

chips = [(1, 1, 0), (6, 1, 0), (10, 1, 0), (15, 1, 0),
         (3, 2, 0), (12, 2, 0), (14, 2, 0),
         (12, 3, 0),
         (8, 4, 0),
         (1, 5, 0), (4, 5, 0), (11, 5, 0), (16, 5, 0),

         (13, 7, 0), (16, 7, 0),
         (2, 8, 0), (6, 8, 0), (9, 8, 0), (11, 8, 0), (15, 8, 0),
         (1, 9, 0),
         (2, 10, 0), (9, 10, 0),
         (1, 11, 0), (12, 11, 0)]

# chips = [(1, 1, 3), (6, 1, 3), (10, 1, 3), (15, 1, 3),
# (3, 2, 3), (12, 2, 3), (14, 2, 3),
#          (12, 3, 3),
#          (8, 4, 3),
#          (1, 5, 3), (4, 5, 3), (11, 5, 3), (16, 5, 3),
#
#          (13, 7, 3), (16, 7, 3),
#          (2, 8, 3), (6, 8, 3), (9, 8, 3), (11, 8, 3), (15, 8, 3),
#          (1, 9, 3),
#          (2, 10, 3), (9, 10, 3),
#          (1, 11, 3), (12, 11, 3)]

# netlist = [(0, 13),
#            (0, 14),
#            (0, 22),
#            (1, 7),
#            (3, 19),
#            (3, 9),
#            (4, 8),
#            (4, 9),
#            (5, 14),
#            (5, 4),
#            (6, 10),
#            (6, 17),
#            (7, 23),
#            (10, 0),
#            (10, 1),
#            (8, 1),  # toegevoegd
#            (7, 5),  # toegevoegd
#            (12, 14),  # toegevoegd
#            (13, 2),  # toegevoegd
#            (8, 10),
#            ##           (10, 18),               Dubbel, beiden weg want allebei
#            ##           (10, 18),              teveel connecties
#            (11, 0),
#            (11, 17),
#            (11, 3),
#            ##           (11, 4),                 Weg want beiden teveel conneceties
#            (11, 9),
#            (12, 24),
#            (13, 4),
#            (14, 19),
#            (14, 21),
#            #(16, 16),
#            (16, 23),
#            (16, 7),
#            (17, 15),
#            (17, 21),
#            (17, 9),
#            (18, 20),
#            ##           (18, 21),              Weg want beiden teveel connecties
#  #          (18, 23),
#            (18, 2),  # (18, 2) ipv (18, 5)
#            (12, 9),  # (12, 9) ipv (18, 9)
#            (19, 20),
#            (19, 21),
#            (20, 6),
#            (1, 15),  # (1, 15) ipv (21, 15)
#            (21, 2),
#            (22, 20),  # (22, 20) ipv (22, 12)
#            (22, 11),
#            (22, 18),
#            (22, 4),
#            (23, 24),  # (23, 24) ipv (23, 2)
#            (23, 5),
#            (24, 15),
#            (24, 16)]

netlist = [(0, 13),
           (0, 14),
           (0, 22),
           (8, 7),
           (2, 6),       # nieuw
           (3, 19),
           (3, 9),
           (4, 8),
           (4, 9),
           (5, 14),
           (6, 4),
           (4, 1),
           # (1, 8),
           (7, 23),
           (10, 0),
           (10, 1),
           (8, 1),                         # toegevoegd
           (7, 5),                         # toegevoegd
           (12, 14),                   # toegevoegd
           (13, 2),                      # toegevoegd
           (8, 10),
##           (10, 18),               Dubbel, beiden weg want allebei
##           (10, 18),              teveel connecties
           (11, 0),
           (11, 17),
           (11, 3),
##           (11, 4),                 Weg want beiden teveel conneceties
           (8, 9),
           (12, 24),
           (13, 4),
           (13, 19),
           (15,21),
           (10, 3),
           (18, 10),
           (24, 23),
           (16, 7),
           (17, 15),
           (17, 21),
           (17, 9),
           (18, 20),
##           (18, 21),              Weg want beiden teveel connecties
           # (12, 14),
           (18, 2),                      # (18, 2) ipv (18, 5)
           (12, 9),                      # (12, 9) ipv (18, 9)
           (1, 13),
           (19, 21),
           (20, 6),
           (1, 15),                      # (1, 15) ipv (21, 15)
           (2, 16),
           (20, 16),                    # (22, 20) ipv (22, 12)
           (22, 11),
           (22, 18),
           (2, 3),
           (5, 12),                    # (23, 24) ipv (23, 2)
           # (23, 5), onlegbaar
           (24, 15),
           (24, 16)]

netlist_2 = [(0, 11),
             (0, 15),
             (1, 10),
             (1, 15),
             (1, 4),
             (2, 12),
             (2, 19),
             #(2, 20),          Beiden teveel connecties
             (3, 2),
             (3, 21),
             (3, 22),
             (4, 12),
             #(4, 12),
             (4, 19),
             #(4, 3),           Beiden teveel connecties
             #(4, 4),
             (4, 7),
             (5, 11),
             (5, 14),
             (5, 17),
             (0, 16),       # (0, 16) ipv (6, 16)
             (6, 21),
             (6, 5),        #!!
             (7, 11),
             (7, 20),           #!! (7, 20) ipv (7, 15)
             (8, 14),         # Toegevoegd
             (8, 18),         # Toegevoegd
             (9, 16),
             (9, 22),
             (10, 3),
             #(10, 4),          Beiden teveel connecties
             (11, 2),
             #(11, 24),         Beiden teveel connecties
             #(11, 3),          Beiden teveel connecties
             (12, 13),          #!! (12, 13) ipv (12, 15)
             (13, 15),
             (13, 16),
             (13, 4),
             (13, 9),
             (14, 2),
             (14, 10),          #!! (14, 10) ipv (15, 10)
             #(15, 3),          Beiden teveel connecties
             #(15, 5),
             (16, 3),
             (17, 11),
             (17, 12),
             (17, 15),
             (17, 7),
             (18, 24),
             (19, 10),
             (20, 21),      # (20, 21) ipv (20, 1)
             (20, 1),       #!!
             #(20, 1),
             (20, 10),
             #(20, 11),         Beiden teveel connecties
             #(20, 22),
             #(20, 4),
             (22, 24),
             #(22, 4),      Beiden teveel connecties
             (22, 6),
             (23, 12),
             (23, 18),      # (23, 18) ipv (23, 20)
             (23, 6),       # (23, 6) ipv (23, 3) !!
             (24, 0),
             (24, 15),      #!!
             (24, 5)]

netlist_3 = [(0, 12),
             (0, 2),
             (0, 20),
             (0, 21),
             (1, 13),
             (1, 19),
             (1, 9),
             (2, 0),
             (2, 12),
             (2, 20),
             (2, 20),
             (2, 24),
             (2, 9),
             (3, 18),
             (3, 19),
             (4, 14),
             (4, 18),
             (5, 13),
             (5, 17),
             (5, 7),
             (6, 22),
             (6, 23),
             (6, 24),
             (6, 8),
             (7, 16),
             (7, 17),
             (7, 17),
             (8, 14),
             (8, 19),
             (8, 8),
             (9, 17),
             (9, 17),
             (9, 22),
             (9, 22),
             (10, 20),
             (10, 23),
             (10, 7),
             (10, 9),
             (11, 0),
             (11, 1),
             (11, 12),
             (11, 21),
             (11, 3),
             (11, 4),
             (12, 10),
             (13, 1),
             (13, 13),
             (13, 15),
             (13, 24),
             (14, 0),
             (14, 2),
             (15, 10),
             (15, 4),
             (16, 1),
             (16, 10),
             (16, 13),
             (16, 18),
             (16, 24),
             (17, 16),
             (17, 17),
             (18, 1),
             (18, 23),
             (19, 0),
             (19, 23),
             (19, 23),
             (19, 6),
             (20, 12),
             (20, 20),
             (20, 21),
             (20, 23),
             (20, 23),
             (21, 11),
             (22, 19),
             (22, 24),
             (22, 3),
             (23, 11),
             (23, 20),
             (23, 5),
             (23, 8),
             (23, 9)]

def sortDistance(netlist):
    """
    For a given netlist calculates the distances between the given to be connected chips. Then returns
    the netlist sorted by distance (shortes distance first).
    """
    netlist_dictionary = {}
    for i in range(len(netlist)):
        start = chips[netlist[i][0]]
        end = chips[netlist[i][1]]

        delta_x = abs(start[0]-end[0])
        delta_y = abs(start[1]-end[1])
        distance = delta_x + delta_y

        netlist_dictionary[(netlist[i][0], netlist[i][1])] = distance

    sorted_dictionary = sorted(netlist_dictionary.items(), key=operator.itemgetter(1))
    sorted_netlist = []
    for j in range(len(sorted_dictionary)):
        sorted_netlist.append(sorted_dictionary[j][0])

    return sorted_netlist

# netlist = [(0, 13),
#            (0, 14),
#            (0, 22),
#            (1, 7),
#            (3, 19),
#            (3, 9),
#            (4, 8),
#            (4, 9),
#            (5, 14),
#            (5, 4),
#            (6, 17),
#            (6, 10),
#            (7, 23),
#            (10, 0),
#            (10, 1),
#            #(10, 18),
#            (10, 18),
#            (11, 0),
#            (11, 17),
#            (11, 3),
#            (11, 4),
#            (11, 9),
#            (12, 24),
#            (13, 4),
#            (14, 19),
#            (14, 21),
#            #(16, 16),
#            (16, 23),
#            (16, 7),
#            (17, 15),
#            (17, 21),
#            (17, 9),
#            (18, 20),
#            (18, 21),
#            (18, 23),
#            (18, 5),
#            (18, 9),
#            (19, 20),
#            (19, 21),
#            (20, 6),
#            (21, 15),
#            (21, 2),
#            (22, 10),
#            #(22, 11),
#            (22, 18),
#            (22, 4),
#            (23, 4),
#            (23, 5),
#            (24, 15),
#            (24, 16)
#             ]
